{% set a11yDefaults = craft.app.config.general.accessibilityDefaults %}
{% set autoplayAttribute = not (currentUser.getPreference('preventAutoplay') ?? a11yDefaults['preventAutoplay'] ?? false) ? 'autoplay' %}

<video {{ autoplayAttribute }} controls style="width: 100%; height: 100%">
  <source src="{{ url }}" type="{{ asset.mimeType }}">
  Your browser does not support the video tag.
</video>
